---
import { getCollection, render } from "astro:content";
import DocLayout from "@layouts/DocLayout.astro";

export async function getStaticPaths() {
  const docs = await getCollection("docs");
  return docs.map((entry) => ({
    params: { slug: entry.id },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content, headings } = await render(entry);

const title =
  entry.data.title ||
  entry.id
    .replace(/-/g, " ")
    .replace(/\b\w/g, (c: string) => c.toUpperCase());
const description = entry.data.description || "";
---

<DocLayout title={title} description={description} headings={headings}>
  <Content />
</DocLayout>
